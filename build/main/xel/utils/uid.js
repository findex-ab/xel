"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.genUid = void 0;
const array_1 = require("./array");
const hash_1 = require("./hash");
const is_1 = require("./is");
const genUid = (seed) => {
    const chars = Array.from("abcdefghijklmnopqrstuvwxyz0123456789");
    let h = 0;
    if ((0, is_1.isFunction)(seed)) {
        seed = JSON.stringify(seed);
    }
    if ((0, is_1.isString)(seed)) {
        for (const c of Array.from(seed)) {
            let d = (0, hash_1.toUint32)(c.codePointAt(0));
            d ^= d << (0, hash_1.toUint32)(17);
            d ^= d >> (0, hash_1.toUint32)(13);
            d ^= d << (0, hash_1.toUint32)(5);
            d = (0, hash_1.toUint32)(d);
            d *= 7683;
            d = (0, hash_1.toUint32)(d);
            h += d;
            h = (0, hash_1.toUint32)(h);
        }
    }
    else if ((0, is_1.isNumber)(seed)) {
        h += (0, hash_1.hashu32)((0, hash_1.toUint32)(seed));
    }
    h = (0, hash_1.toUint32)((0, hash_1.hashu32)((0, hash_1.toUint32)(h)));
    return (0, array_1.range)(24)
        .map((i) => chars[(0, hash_1.toUint32)(i + h * 45 + (0, hash_1.hashu32)(i + h)) % chars.length])
        .join("");
};
exports.genUid = genUid;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidWlkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL3hlbC91dGlscy91aWQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsbUNBQWdDO0FBQ2hDLGlDQUEyQztBQUMzQyw2QkFBc0Q7QUFFL0MsTUFBTSxNQUFNLEdBQUcsQ0FBQyxJQUFnQyxFQUFFLEVBQUU7SUFDekQsTUFBTSxLQUFLLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxzQ0FBc0MsQ0FBQyxDQUFDO0lBQ2pFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUVWLElBQUksSUFBQSxlQUFVLEVBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztRQUNyQixJQUFJLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUM5QixDQUFDO0lBRUQsSUFBSSxJQUFBLGFBQVEsRUFBQyxJQUFJLENBQUMsRUFBRSxDQUFDO1FBQ25CLEtBQUssTUFBTSxDQUFDLElBQUksS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDO1lBQ2pDLElBQUksQ0FBQyxHQUFHLElBQUEsZUFBUSxFQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNuQyxDQUFDLElBQUksQ0FBQyxJQUFJLElBQUEsZUFBUSxFQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ3ZCLENBQUMsSUFBSSxDQUFDLElBQUksSUFBQSxlQUFRLEVBQUMsRUFBRSxDQUFDLENBQUM7WUFDdkIsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFBLGVBQVEsRUFBQyxDQUFDLENBQUMsQ0FBQztZQUN0QixDQUFDLEdBQUcsSUFBQSxlQUFRLEVBQUMsQ0FBQyxDQUFDLENBQUM7WUFDaEIsQ0FBQyxJQUFJLElBQUksQ0FBQztZQUNWLENBQUMsR0FBRyxJQUFBLGVBQVEsRUFBQyxDQUFDLENBQUMsQ0FBQztZQUNoQixDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ1AsQ0FBQyxHQUFHLElBQUEsZUFBUSxFQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xCLENBQUM7SUFDSCxDQUFDO1NBQU0sSUFBSSxJQUFBLGFBQVEsRUFBQyxJQUFJLENBQUMsRUFBRSxDQUFDO1FBQzFCLENBQUMsSUFBSSxJQUFBLGNBQU8sRUFBQyxJQUFBLGVBQVEsRUFBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQy9CLENBQUM7SUFFRCxDQUFDLEdBQUcsSUFBQSxlQUFRLEVBQUMsSUFBQSxjQUFPLEVBQUMsSUFBQSxlQUFRLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBRW5DLE9BQU8sSUFBQSxhQUFLLEVBQUMsRUFBRSxDQUFDO1NBQ2IsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxLQUFLLENBQUMsSUFBQSxlQUFRLEVBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLEdBQUcsSUFBQSxjQUFPLEVBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1NBQ3ZFLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUNkLENBQUMsQ0FBQztBQTdCVyxRQUFBLE1BQU0sVUE2QmpCIn0=